import{f as g,A as f,g as w,j as y,v as b,k as m,l as e,t as d,q as S,s as k,o as C}from"./vendor.f9f2987e.js";import{_ as E,b as i,u as B}from"./route-block.b1cafca1.js";import{A as D,U as I}from"./auth.0fc7c86a.js";import"./index.36d4ce84.js";const c=s=>(S("data-v-07195f82"),s=s(),k(),s),x=c(()=>e("br",null,null,-1)),A=c(()=>e("br",null,null,-1)),P={class:"title-div _div"},L={class:"date-div _div"},R=c(()=>e("br",null,null,-1)),u=g({setup(s){f();const _=w(),o=B(),r=new D,a=y(new I),p=async()=>{try{const t=await r.get();a.value.state=t,console.log(a.value)}catch{o.error("Error while loading user data")}},v=()=>{try{const t=r.logout();o.success("Successfully logout"),l()}catch{o.error("Error while logout")}},h=async()=>{try{const t=prompt("Enter your old passwrod"),n=prompt("Enter your new passwrod");if(t&&n){const U=await r.changePassword(String(t),String(n));o.success("Successfully changed.")}else o.error("Incorrect data",2e3)}catch{o.error("Error while loading user data.")}},l=()=>{_.push({path:"/"})};return b(()=>{p()}),(t,n)=>(C(),m("div",null,[e("div",{class:"header"},[e("div",{class:"back-btn btn",onClick:l},"\u1438")]),x,A,e("div",null,[e("div",P,"Login: "+d(a.value.state.login),1),e("div",L," Register date: "+d(new Date(a.value.state.createdAt).toDateString()),1),R,e("div",{class:"chng-btn _div btn",onClick:h}," Change password ")]),e("div",null,[e("div",{class:"leave-btn btn",onClick:v},"Logout")])]))}});typeof i=="function"&&i(u);var V=E(u,[["__scopeId","data-v-07195f82"]]);export{V as default};
