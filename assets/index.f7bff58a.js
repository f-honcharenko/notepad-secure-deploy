import{f as m,g as y,j as h,o as r,k as i,l as t,m as C,t as v,n as N,q as w,s as L,v as $,F as B,w as I,x as M}from"./vendor.f9f2987e.js";import{_ as R,b as g,u as D}from"./route-block.b1cafca1.js";import{u as E}from"./index.36d4ce84.js";import{N as P}from"./note.e6cafeda.js";const b=o=>(w("data-v-5a9cd9fa"),o=o(),L(),o),F=b(()=>t("br",null,null,-1)),T=b(()=>t("br",null,null,-1)),U={class:"item-date"},V=m({props:{title:String,date:String,_id:String},setup(o){const s=o,n=y(),l=h(["#ffab91","#ffcc80","#e6ee9b","#e6ee9b","#80deea","#cf93d9","#f48fb1","#80cbc4"]),p=()=>{const e=Math.ceil(0),a=Math.floor(l.value.length);return l.value[Math.floor(Math.random()*(a-e))+e]},d=e=>{n.push({path:`/note/${e}/`})};return(e,a)=>(r(),i("div",null,[t("div",{class:"item",style:N(`background-color:${p()}`),onClick:a[0]||(a[0]=f=>{var _;return d((_=s._id)==null?void 0:_.toString())})},[C(v(s.title),1),F,T,t("div",U,v(new Date(s.date).toDateString()),1)],4)]))}});var j=R(V,[["__scopeId","data-v-5a9cd9fa"]]);const q={key:0,id:"notes"},z=t("h1",{class:"welcome-title-div"},"Notes:",-1),A={class:"masonry"},G=t("div",{class:"crt-btn-content"},"+",-1),H=[G],J={key:1,id:"welcome-message"},K=t("div",null,[t("h2",null,"Please log in to access your notes.")],-1),O=m({setup(o){const s=D(),n=y(),l=E(),p=new P,d=h(l.isLoggedIn||!1),e=h([]),a=async()=>{try{const c=await p.all();e.value=c.list,console.log(c)}catch{s.error("Error loading notes",2e3)}},f=async()=>{try{n.push({path:"/note/create/"})}catch{s.error("Error.")}},_=()=>{n.push({path:"/auth/login/"})},k=()=>{n.push({path:"/auth/register/"})},S=()=>{n.push({path:"/auth/profile/"})};return $(()=>{d.value&&a()}),(c,Q)=>{const x=j;return r(),i("div",null,[d.value?(r(),i("div",q,[t("div",null,[z,t("div",{class:"profile-btn btn",onClick:S},"Profile")]),t("div",A,[(r(!0),i(B,null,I(e.value,u=>(r(),M(x,{key:u._id,title:u.title,date:u.createdAt,_id:u._id},null,8,["title","date","_id"]))),128))]),t("div",{class:"crt-btn",onClick:f},H)])):(r(),i("div",J,[K,t("div",null,[t("div",{class:"btn",onClick:_},"Login"),t("div",{class:"btn",onClick:k},"Register")])]))])}}});typeof g=="function"&&g(O);export{O as default};
